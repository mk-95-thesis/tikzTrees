

% \usetikzlibrary{arrows}

% define some variables that determines the spacing and sizes of the trees and vertices.
\newcommand\vSize{0.3}
\newcommand\tSize{0.5}

\tikzset{
  treenode/.style = {align=center, inner sep=0pt, text centered,
    font=\sffamily},
  node_ImQ/.style = {treenode, circle, white, font=\sffamily\bfseries, draw=black,
    fill=black, text width=\vSize*1.5em},% arbre rouge noir, noeud noir
  node_Q/.style = {treenode, circle, black, draw=black,
    text width=\vSize*1.5em, very thick},% arbre rouge noir, noeud rouge
  node_I/.style = {treenode, rectangle, black, draw=black,
    minimum width=\vSize*1em, minimum height=\vSize*1em, very thick}% arbre rouge noir, nil
}

\newcommand\QNode{node [node_Q] {}}
\newcommand\INode{node [node_I] {}}
\newcommand\ImQNode{node [node_ImQ] {}}

\newcommand\RQNode{\node [node_Q] {}}
\newcommand\RINode{\node [node_I] {}}
\newcommand\RImQNode{\node [node_ImQ] {}}


% firt order tree
\newcommand\oItI[1]{
 \begin{tikzpicture}[grow'=up,
    level/.style={level distance = \tSize*1.5em},
    level 1/.style={sibling distance = \tSize*1.5em},
    level 2/.style={sibling distance = \tSize*0.75em},
    ]
    #1
    ;
  \end{tikzpicture}
  }

% second order tree
\newcommand\oIItI[2]{
  \begin{tikzpicture}[grow'=up,
    baseline= \tSize*0.25em,
    level/.style={level distance = \tSize*1.5em},
    level 1/.style={sibling distance = \tSize*1.5em},
    ]
    #1 % root node
    child{ #2 }
;
\end{tikzpicture}
}


% third order tree (type I and II)
\newcommand\oIIItI[3]{
  \begin{tikzpicture}[grow'=up,
    baseline= \tSize*0.25em,
    level/.style={level distance = \tSize*1.5em},
    level 1/.style={sibling distance = \tSize*1.5em},
    ]
    #1 % root node
    child{ #2 }
    child{ #3 }
;
\end{tikzpicture}
}

\newcommand\oIIItII[3]{
  \begin{tikzpicture}[grow'=up,
    baseline= \tSize*0.8em,
    level/.style={level distance = \tSize*1.5em},
    level 1/.style={sibling distance = \tSize*1.5em},
    ]
    #1 % root node
    child{ #2
      child{ #3 }}
;
\end{tikzpicture}
}

% fourth order tree (type I, II, III, and IV)
\newcommand\oIVtI[4]{
  \begin{tikzpicture}[grow'=up,
    baseline= \tSize*0.25em,
    level/.style={level distance = \tSize*1.5em},
    level 1/.style={sibling distance = \tSize*1.5em},
    ]
    #1 % root node
    child{ #2 }
    child{ #3 }
    child{ #4 }
;
\end{tikzpicture}
}

\newcommand\oIVtII[4]{
  \begin{tikzpicture}[grow'=up,
    baseline= \tSize*0.8em,
    level/.style={level distance = \tSize*1.5em},
    level 1/.style={sibling distance = \tSize*1.5em},
    level 2/.style={sibling distance = \tSize*0.75em}
    ]
    #1 % root node
    child{ #2
      child { #4 }
    }
    child{ #3 }
;
\end{tikzpicture}
}



\newcommand\oIVtIII[4]{
  \begin{tikzpicture}[grow'=up,
    baseline= \tSize*1em,
    level/.style={level distance = \tSize*1.5em},
    level 1/.style={sibling distance = \tSize*1.5em},
    level 2/.style={sibling distance = \tSize*1.5em},
    level 3/.style={sibling distance = \tSize*0.75em}
    ]
    #1 % root node
    child{ #2
      child{ #3 }
      child{ #4 }
    }
;
\end{tikzpicture}
}

\newcommand\oIVtIV[4]{
  \begin{tikzpicture}[grow'=up,
    baseline= \tSize*1.3em,
    level/.style={level distance = \tSize*1.5em},
    level 1/.style={sibling distance = \tSize*1.5em},
    level 2/.style={sibling distance = \tSize*0.75em},
    level 3/.style={sibling distance = \tSize*0.5em}
    ]
    #1 % root node
    child{ #2
      child{ #3
        child { #4 }
        }
    }
;
\end{tikzpicture}
}


% fifth order tree (type I, II, III, IV, V, VI, VII, VIII, and IX)
\newcommand\oVtI[5]{
  \begin{tikzpicture}[grow'=up,
    baseline= \tSize*0.25em,
    level/.style={level distance = \tSize*1.5em},
    level 1/.style={sibling distance = \tSize*1.5em},
    ]
    #1 % root node
    child{ #2 }
    child{ #3 }
    child{ #4 }
    child{ #5 }
;
\end{tikzpicture}
}

\newcommand\oVtII[5]{
  \begin{tikzpicture}[grow'=up,
    baseline= \tSize*0.8em,
    level/.style={level distance = \tSize*1.5em},
    level 1/.style={sibling distance = \tSize*1.5em},
    level 2/.style={sibling distance = \tSize*0.75em}
    ]
    #1 % root node
    child{ #2
      child { #5 }
    }
    child{ #3 }
    child{ #4 }
;
\end{tikzpicture}
}


\newcommand\oVtIII[5]{
  \begin{tikzpicture}[grow'=up,
    baseline= \tSize*0.8em,
    level/.style={level distance = \tSize*1.5em},
    level 1/.style={sibling distance = \tSize*1.5em},
    level 2/.style={sibling distance = \tSize*1.5em}
    ]
    #1 % root node
    child{ #2
      child { #4 }
      child { #5 }
    }
    child{ #3 }
;
\end{tikzpicture}
}

\newcommand\oVtIV[5]{
  \begin{tikzpicture}[grow'=up,
    baseline= \tSize*1.5em,
    level/.style={level distance = \tSize*1.5em},
    level 1/.style={sibling distance = \tSize*1.5em},
    level 2/.style={sibling distance = \tSize*1.5em}
    ]
    #1 % root node
    child{ #2
      child { #4
        child { #5 }
        }
    }
    child { #3 }
;
\end{tikzpicture}
}

\newcommand\oVtV[5]{
  \begin{tikzpicture}[grow'=up,
    baseline= \tSize*1em,
    level/.style={level distance = \tSize*1.5em},
    level 1/.style={sibling distance = \tSize*1.5em},
    level 2/.style={sibling distance = \tSize*1.5em}
    ]
    #1 % root node
    child{ #2
      child { #4 }
    }
    child { #3
      child{ #5 }
    }
;
\end{tikzpicture}
}

\newcommand\oVtVI[5]{
  \begin{tikzpicture}[grow'=up,
    baseline= \tSize*1.3em,
    level/.style={level distance = \tSize*1.5em},
    level 1/.style={sibling distance = \tSize*1.5em},
    level 2/.style={sibling distance = \tSize*1.5em},
    level 3/.style={sibling distance = \tSize*0.5em}
    ]
    #1 % root node
    child{ #2
      child { #3 }
      child { #4 }
      child { #5 }
    }
;
\end{tikzpicture}
}

\newcommand\oVtVII[5]{
  \begin{tikzpicture}[grow'=up,
    baseline= \tSize*1.5em,
    level/.style={level distance = \tSize*1.5em},
    level 1/.style={sibling distance = \tSize*1.5em},
    level 2/.style={sibling distance = \tSize*1.5em},
    level 3/.style={sibling distance = \tSize*0.5em}
    ]
    #1 % root node
    child{ #2
      child { #3
      child { #5 }}
      child { #4 }
      }
;
\end{tikzpicture}
}


\newcommand\oVtVIII[5]{
  \begin{tikzpicture}[grow'=up,
    baseline= \tSize*1.5em,
    level/.style={level distance = \tSize*1.5em},
    level 1/.style={sibling distance = \tSize*1.5em},
    level 2/.style={sibling distance = \tSize*1.5em},
    level 3/.style={sibling distance = \tSize*1.5em}
    ]
    #1 % root node
    child{ #2
      child { #3
        child { #4 }
        child{ #5 }
      }}
;
\end{tikzpicture}
}

\newcommand\oVtIX[5]{
  \begin{tikzpicture}[grow'=up,
    baseline= \tSize*2.2em,
    level/.style={level distance = \tSize*1.5em},
    level 1/.style={sibling distance = \tSize*1.5em},
    level 2/.style={sibling distance = \tSize*1.5em},
    level 3/.style={sibling distance = \tSize*1.5em}
    ]
    #1 % root node
    child{ #2
      child { #3
        child { #4
          child{ #5 }
      }}}
;
\end{tikzpicture}
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%            Elementary Differentials
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%  order 1:
%  --------
\newcommand{\ImQf}{\oItI{\RImQNode}}
\newcommand{\If}{\oItI{\RINode}}
\newcommand{\Qf}{\oItI{\RQNode}}

%  order 2:
%  --------
\newcommand{\ImQfuImQf}{\oIItI{\RImQNode}{\ImQNode}}
\newcommand{\IfuImQf}{\oIItI{\RINode}{\ImQNode}}
\newcommand{\QfuImQf}{\oIItI{\RQNode}{\ImQNode}}

\newcommand{\ImQfuIf}{\oIItI{\RImQNode}{\INode}}
\newcommand{\IfuIf}{\oIItI{\RINode}{\INode}}
\newcommand{\QfuIf}{\oIItI{\RQNode}{\INode}}

\newcommand{\ImQfuQf}{\oIItI{\RImQNode}{\QNode}}
\newcommand{\IfuQf}{\oIItI{\RINode}{\QNode}}
\newcommand{\QfuQf}{\oIItI{\RQNode}{\QNode}}
